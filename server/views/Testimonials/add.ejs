<%- include('../layout/header'); %> <%- include('../layout/sidebar'); %>

<main id="main" class="main">
  <section class="section">
    <!-- General Form Elements -->
    <div >
      <form
        id="testimonials"
        action="/testimoials/add"
        method="post"
        enctype="multipart/form-data"
      >
        <div class="row mb-3">
          <div>
            <label for="name" class="col-sm-2 col-form-label"><b>Name</b></label>
          </div>
          
          <div >
            <input
              id="name"
              type="text"
              name="name"
              required
              class="form-control"
            />
          </div>
        </div>
       
        <div class="row mb-3">
          <div>
            <label for="review_heading" class="col-sm-2 col-form-label"><b>Review Heading</b></label>
          </div>
          
          <div >
            <textarea
              id="review_heading"
              rows="7"
              cols="40"
              type="text"
              name="review_heading"
              required
              class="form-control summernote"
            ></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <div>
            <label for="review" class="col-sm-2 col-form-label"><b>Review</b></label>
          </div>
          
          <div >
            <textarea
              id="review"
              rows="7"
              cols="40"
              type="text"
              name="review"
              required
              class="form-control summernote"
            ></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <div>
            <label for="profession" class="col-sm-2 col-form-label"><b>Customer Profession</b></label>
          </div>
          
          <div >
            <input
              id="profession"
              type="text"
              name="profession"
              required
              class="form-control "
            />
          </div>
        </div>
       

        <div class="row mb-3">
          <div>
            <label for="image" class="col-sm-2 col-form-label"><b>Image</b></label>
          </div>
          
          <div >
            <input
              name="image"
              accept="image/*"
              class="form-control"
              type="file"
              id="fileInput"
            />
          </div>
        </div>

        <button class="btn btn-success w-20" type="submit">Add</button>
      </form>
      <!-- End General Form Elements -->
    </div>
  </section>
</main>

<script>


  const HomeBanner = document.getElementById("testimonials");
  HomeBanner.addEventListener("submit", function (event) {
    event.preventDefault(); // Prevent default form submission
    var formData = new FormData();
    const fileInput = document.getElementById("fileInput");

    var file = fileInput.files[0];
    formData.append("image", file);

    formData.append("review", document.getElementById("review").value);
    formData.append("review_heading", document.getElementById("review_heading").value);
    formData.append("profession", document.getElementById("profession").value);
    formData.append("name", document.getElementById("name").value);
    // formData.append("link", document.getElementById("link").value);

    ajaxRequest("testimonials", "/testimonials/add", "POST", formData);
  });
</script>
<%- include('../layout/footer'); %>
<script></script>
